<template>
  <div class="navBar">
    <router-link id="homeBtn" to="/">Mac Quiz</router-link>
  </div>
  <div class="container">
    <div class = "flexBox" id="image">
      <img :src="image">
    </div>
    <div class = "flexBox" id="options">
      <div id="info" >
        Score:1
        <div id="timer"></div>
      </div>
      <button id="option1" v-on:click="toggleDisplay()" class="optionBtn">{{ options[0] }}</button>
      <button id="option2" v-on:click="toggleDisplay()" class="optionBtn">{{ options[1] }}</button>
      <button id="option3" v-on:click="toggleDisplay()" class="optionBtn">{{ options[2] }}</button>
      <button id="option4" v-on:click="toggleDisplay()" class="optionBtn">{{ options[3] }}</button>
    </div>
    <button v-if="display" v-on:click="nextClick()" id="next"> Next</button>

  </div>
</template>

<script>
const TOTAL_NUM_PICS = 8
export default {
  data() {
    return {
      display: false,
      options: [
          null,
          null,
          null,
          null
      ],
      places: [
        "Olin-Rice",
        "Campus Center",
        "Janet Wallace",
        "Leonard Center"
      ],
      image: null,
      correctAns: null
    }
  },
  mounted() {
    this.image = this.randomImg()
    // this.options[0] = this.randomOption()
    // this.options[1] = this.randomOption()
    // this.options[2] = this.randomOption()
    // this.options[3] = this.randomOption()
    this.options[0], this.options[1],this.options[2], this.options[3] = this.randomOption2()
    this.places =[
        "Olin-Rice",
        "Campus Center",
        "Janet Wallace",
        "Leonard Center"
        ]
    this.correctAns = this.correctAnswer()
  },
  methods: {
    toggleDisplay: function() {
      this.display = !this.display
    },
    // randomOption: function() {
    //   let index = Math.floor(Math.random() * this.places.length)
    //   return this.places[index]
    // },
    randomOption2: function() {
      let places = this.places
      let arr = []
      let i = 0
      while (arr.length < 4){
        let index = Math.floor(Math.random() * this.places.length)
        if (!arr.includes(places[index])){
          arr[i] = places[index]
          i++
        }
      }
      let correctIndex = Math.floor(Math.random() * arr.length)
      arr[correctIndex] = this.correctAns
      return arr
    },
    randomImg: function() {
      let index = Math.floor(Math.random() * TOTAL_NUM_PICS)
      let path = "src/assets/images/"
      let img = path + index + ".jpg"
      return img
    },
    nextClick: function() {
      this.toggleDisplay()
      // this.options[0] = this.randomOption()
      // this.options[1] = this.randomOption()
      // this.options[2] = this.randomOption()
      // this.options[3] = this.randomOption()
      let options = this.randomOption2()
      this.options[0] = options[0]
      this.options[1] = options[1]
      this.options[2] = options[2]
      this.options[3] = options[3]
      this.image = this.randomImg()
    },
    correctAnswer: function() {
      if (this.image.slice(18, this.image.length-4 == 0)){
        return "Carnegie"
      }
      if (this.image.slice(18, this.image.length-4 == 1)){
        return "Dupre"
      }
      if (this.image.slice(18, this.image.length-4 == 2)){
        return "Janet Wallace"
      }
      if (this.image.slice(18, this.image.length-4 == 3)){
        return "Kagin"
      }
      if (this.image.slice(18, this.image.length-4 == 4)){
        return "Leonard Center"
      }
      if (this.image.slice(18, this.image.length-4 == 5)){
        return "Old Main"
      }
      if (this.image.slice(18, this.image.length-4 == 6)){
        return "Olin Rice"
      }
      if (this.image.slice(18, this.image.length-4 == 7)){
        return "Weyerhauser"
      }
    }
  }
}

</script>

<style scoped>
.navBar{
  text-align: left;
  background-color: #01426a;
  top: 100%;
  color: rgb(184, 184, 184);
  padding: 5px;
  border-radius: 5px;
  min-height: 30px;

}
#homeBtn{
  text-decoration: none;
  color: white;
}
.container{
  margin-top: 50px;
  display: flex;

}
.flexBox{
  height: 600px;
  width: 500px;
  margin: auto;
  margin-top: 20px;
  text-align: center;
  padding: 20px;
  border-radius: 5%;
}

#info{
  width: 100%;
  padding-top: auto ;
  height: 70px;
  box-sizing: border-box;
  font-size: 57px;
  font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif
}
#image{
  clear: both;
  margin-right: 2px;
  background-color: #c28475;
  text-align: center;
  font-size: 20px;
  height: 600px;
  margin-top: 0px;
  overflow: hidden;
  padding: 0px;
  border-style: inset;
  border-width: 3px;
  border-color: #2e0b29;

}
img{
  width: auto;
  height: 100%;
  display: block;
}
#options{
  margin-left: 2px;
  display: flex;
  flex-wrap: wrap;
  align-content: stretch;
}
button{
  border-radius: 10px;
  width: 200px;
  background-color: #01426a;
  height: 200px;
  margin-left: 7px;
  margin-right: 7px;
  box-sizing: border-box;
  font-size: 41px;
  border-style: dashed;
  border-color: rgba(252, 39, 92, 0.221);
  border-width: 3px;
  animation-name: btnAnime;
  animation-duration: 1s;
  animation-iteration-count: infinite;
}

@keyframes btnAnime{
  0% {border-color:aqua;}
  25% {border-color: rgb(68, 255, 118);}
  50% {border-color: rgb(219, 192, 19);}
  75%{border-color: #ff891b;}
  100% {border-color: #2e0b29;}

}

button:hover{
  background-color: #A5adaf;
}
#next{
  background-color: #D44420;
  position: absolute;
  bottom: 0;
  right: 0;
}
</style>